<html>
<head>
<title>aMaker club - CE aMaDEUS</title>
<meta charset="utf-8" />
</head>
<script>
	var lastColor = "#000000";
	function callback() {
	}

	function httpGetAsync(theUrl, callback) {
		var xmlHttp = new XMLHttpRequest();
		xmlHttp.onreadystatechange = function() {
			if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
				callback(xmlHttp.responseText);
		}
		xmlHttp.open("GET", theUrl, true);
		xmlHttp.send();
	}


	function hex(x) {
		var hexDigits = new Array
	    ("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"); 
		  return isNaN(x) ? "00" : hexDigits[(x - x % 16) / 16] + hexDigits[x % 16];
		 }
	function rgb2hex(rgb) {
		 rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
		 return "#" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);
		}

	function sendAllColors() {
		s = "";
		for (var i = 0; i < 8; i++)
			for (var j = 0; j < 8; j++) {
				col = rgb2hex(document.getElementById("" + i + "." + j).style.color)
				if (col == null)
					col = "000000"
				else
					col = col.substr(col.length - 6)
				s = s + col + ",";
			}
		alert(this.location + "/do?colors=" + s);
		httpGetAsync(this.location + "/do?colors=" + s)
	}

		function onClickEventHandler(event) {
		if (event != null) {
			//check for browser compatibility
			if (event.target) {
				//firefox, safari
				fill(event.target.id.substr(0, 1), event.target.id.substr(2, 1));
			} else {
				//IE
				fill(event.srcElement.id.substr(0, 1), event.srcElement.id
						.substr(2, 1));
			}
		}

	}
	function fill(l, c) {
		if (l == "*" && c == "*")
			for (var i = 0; i < 8; i++)
				for (var j = 0; j < 8; j++)
					document.getElementById("" + i + "." + j).style.color = document
							.getElementById("colorpicker").value;
		else if (l == "*")
			for (var i = 0; i < 8; i++)
				document.getElementById("" + i + "." + c).style.color = document
						.getElementById("colorpicker").value;
		else if (c == "*")
			for (var i = 0; i < 8; i++)
				document.getElementById("" + l + "." + i).style.color = document
						.getElementById("colorpicker").value;
		else
			document.getElementById("" + l + "." + c).style.color = document
					.getElementById("colorpicker").value;

	}
		
	function onload() {
		for (i = 0; i < 8; i++)for (j = 0; j < 8; j++) {
			document.getElementById("" + i + "." + j).style.color = "#101010" 
		}
		var as = document.querySelectorAll('div');
		for (i = 0; i < as.length; i++) {
			as[i].addEventListener('click', function(e) {
				onClickEventHandler(e);
			});
			
		}
	}
</script>

<style>
body {
	background-color: black;
	color: #f0f0f0;
}

table  {
	border: none;
	margin: 0px;
	padding: 0px;
	text-align: center;
	vertical-align: middle;
	
}

colgroup {
	border-right: 2px outset white;
	border-left: 2px outset white;
}

tfoot, thead {
	border-top: 2px outset white;
	border-bottom: 2px outset white;
}

input[type=color] {
	background-color: black;
	border: none;
	height: 20px;
	width: 20px;
	padding: 0px;
	margin: 0px;
	cursor: crosshair;
}

.drop_hover {
	border: blue 2px double;
}

div {
	width: 1.4em;
	height: 1.4em;
	padding: 0px;
	margin: 0px;
	margin: 0px;
}
</style>

<body onload="javascript:onload()">

	<table>
		<thead style="color: white;">
			<tr>
				<td colspan="9">Pick color <input type="color" id="colorpicker">
					and click cell(s).
				</td>
			</tr>
			<tr class="helper">
				<td><div id="*.*">&#x2198;</div></td>
				<td><div id="*.0">&#x2193;</div></td>
				<td><div id="*.1">&#x2193;</div></td>
				<td><div id="*.2">&#x2193;</div></td>
				<td><div id="*.3">&#x2193;</div></td>
				<td><div id="*.4">&#x2193;</div></td>
				<td><div id="*.5">&#x2193;</div></td>
				<td><div id="*.6">&#x2193;</div></td>
				<td><div id="*.7">&#x2193;</div></td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><div id="0.*">&#x2192;</div></td>
				<td><div id="0.0">&#x25C9;</div></td>
				<td><div id="0.1">&#x25C9;</div></td>
				<td><div id="0.2">&#x25C9;</div></td>
				<td><div id="0.3">&#x25C9;</div></td>
				<td><div id="0.4">&#x25C9;</div></td>
				<td><div id="0.5">&#x25C9;</div></td>
				<td><div id="0.6">&#x25C9;</div></td>
				<td><div id="0.7">&#x25C9;</div></td>
			</tr>
			<tr>
				<td><div id="1.*">&#x2192;</div></td>
				<td><div id="1.0">&#x25C9;</div></td>
				<td><div id="1.1">&#x25C9;</div></td>
				<td><div id="1.2">&#x25C9;</div></td>
				<td><div id="1.3">&#x25C9;</div></td>
				<td><div id="1.4">&#x25C9;</div></td>
				<td><div id="1.5">&#x25C9;</div></td>
				<td><div id="1.6">&#x25C9;</div></td>
				<td><div id="1.7">&#x25C9;</div></td>
			</tr>
			<tr>
				<td><div id="2.*">&#x2192;</div></td>
				<td><div id="2.0">&#x25C9;</div></td>
				<td><div id="2.1">&#x25C9;</div></td>
				<td><div id="2.2">&#x25C9;</div></td>
				<td><div id="2.3">&#x25C9;</div></td>
				<td><div id="2.4">&#x25C9;</div></td>
				<td><div id="2.5">&#x25C9;</div></td>
				<td><div id="2.6">&#x25C9;</div></td>
				<td><div id="2.7">&#x25C9;</div></td>
			</tr>
			<tr>
				<td><div id="3.*">&#x2192;</div></td>
				<td><div id="3.0">&#x25C9;</div></td>
				<td><div id="3.1">&#x25C9;</div></td>
				<td><div id="3.2">&#x25C9;</div></td>
				<td><div id="3.3">&#x25C9;</div></td>
				<td><div id="3.4">&#x25C9;</div></td>
				<td><div id="3.5">&#x25C9;</div></td>
				<td><div id="3.6">&#x25C9;</div></td>
				<td><div id="3.7">&#x25C9;</div></td>
			</tr>
			<tr>
				<td><div id="4.*">&#x2192;</div></td>
				<td><div id="4.0">&#x25C9;</div></td>
				<td><div id="4.1">&#x25C9;</div></td>
				<td><div id="4.2">&#x25C9;</div></td>
				<td><div id="4.3">&#x25C9;</div></td>
				<td><div id="4.4">&#x25C9;</div></td>
				<td><div id="4.5">&#x25C9;</div></td>
				<td><div id="4.6">&#x25C9;</div></td>
				<td><div id="4.7">&#x25C9;</div></td>
			</tr>
			<tr>
				<td><div id="5.*">&#x2192;</div></td>
				<td><div id="5.0">&#x25C9;</div></td>
				<td><div id="5.1">&#x25C9;</div></td>
				<td><div id="5.2">&#x25C9;</div></td>
				<td><div id="5.3">&#x25C9;</div></td>
				<td><div id="5.4">&#x25C9;</div></td>
				<td><div id="5.5">&#x25C9;</div></td>
				<td><div id="5.6">&#x25C9;</div></td>
				<td><div id="5.7">&#x25C9;</div></td>
			</tr>
			<tr>
				<td><div id="6.*">&#x2192;</div></td>
				<td><div id="6.0">&#x25C9;</div></td>
				<td><div id="6.1">&#x25C9;</div></td>
				<td><div id="6.2">&#x25C9;</div></td>
				<td><div id="6.3">&#x25C9;</div></td>
				<td><div id="6.4">&#x25C9;</div></td>
				<td><div id="6.5">&#x25C9;</div></td>
				<td><div id="6.6">&#x25C9;</div></td>
				<td><div id="6.7">&#x25C9;</div></td>
			</tr>
			<tr>
				<td><div id="7.*">&#x2192;</div></td>
				<td><div id="7.0">&#x25C9;</div></td>
				<td><div id="7.1">&#x25C9;</div></td>
				<td><div id="7.2">&#x25C9;</div></td>
				<td><div id="7.3">&#x25C9;</div></td>
				<td><div id="7.4">&#x25C9;</div></td>
				<td><div id="7.5">&#x25C9;</div></td>
				<td><div id="7.6">&#x25C9;</div></td>
				<td><div id="7.7">&#x25C9;</div></td>
			</tr>
		</tbody>
		<tfoot style="color: white;">
			<tr>
				<td colspan=8><input type="button" value="SEND"
					onclick="javascript:sendAllColors();" style="width: 100%;" /></td>
			</tr>
		</tfoot>
	</table>
</body>
</html>
